<ion-header [translucent]="true">
  <ion-toolbar class="ion-text-center">
    <ion-buttons slot="start">
      <ion-icon name="sunny-outline" />
      <ion-toggle class="ion-activatable" />
      <ion-icon name="moon-outline" />
    </ion-buttons>
    <ion-title color="transparent">Mi lista de compra</ion-title>
    <ion-item slot="end" color="transparent" lines="none">
      <ion-icon
        class="ion-activatable"
        name="add-outline"
        (click)="openModal()"
      ></ion-icon>
    </ion-item>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-searchbar
    [animated]="true"
    [placeholder]="'Buscar item'"
    clear-icon="trash-bin"
    (ionInput)="filterItems($event)"
  ></ion-searchbar>
  @for(groupItem of groupItems; track groupItem.name){
  <ion-item-group>
    <ion-item-divider>
      <ion-label>{{groupItem.name}}</ion-label>
    </ion-item-divider>
    @for(item of groupItem.items; track item.id){
    <ion-item lines="none">
      <ion-button slot="start" fill="none">
        <ion-checkbox [checked]="item.checked" (ionChange)="updateItem(item)">
        </ion-checkbox>
      </ion-button>
      <!--
      Para click en todo el archivo
      <ion-checkbox
        slot="start"
        [checked]="item.checked"
        (ionChange)="updateItem(item)"
      ></ion-checkbox> -->
      <ion-text
        >{{item.quantity}}{{item.unit?.description }}
        {{item.description}}</ion-text
      >
      <ion-icon
        slot="end"
        name="close-outline"
        (click)="confirmDelete(item)"
      ></ion-icon>
    </ion-item>
    }
  </ion-item-group>
  }
</ion-content>
